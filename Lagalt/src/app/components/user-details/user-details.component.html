<div class="user-details-section">
    <div class="user-details-wr">
        <div>
            <span class="material-symbols-rounded userIcon" *ngIf="!hiddenMode">face_6</span>
            <span class="material-symbols-rounded userIcon" *ngIf="hiddenMode">lock</span>
        </div>
        <div>
            <div class="hidden-username">
                <h3>{{userDetails?.fullname}}</h3>
                <p *ngIf="hiddenMode" class="small-title">Hidden user</p>
            </div>
            <div class="user-details">
                <div class="col">
                    <p class="small-title color-light-blue">Username</p>
                    <p>{{userDetails?.username}}</p>
                </div>
                <div class="col">
                    <p class="small-title color-light-blue">Projects</p>
                    <p *ngIf="!hiddenMode">{{projectAmount}}</p>
                </div>
                <div class="col">
                    <p class="small-title color-light-blue">Skills</p>
                    <div class="skill-div" *ngIf="!hiddenMode">
                        <p *ngFor="let skill of this.userDetails?.skills" class="small-title">
                            {{skill.toLowerCase()}}
                        </p>
                    </div>
                </div>
                <div>
                    <p class="small-title color-light-blue">About</p>
                    <p *ngIf="!hiddenMode">{{userDetails?.description}}</p>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div *ngIf="editBtnVisible()">
            <button class="editBtn" (click)="showEditElem()"><span class="material-symbols-rounded">
                edit
                </span>Edit</button>
        </div>
    </div>
</div>
<div *ngIf="editBtnClicked">
    <div class="form-section ">
        <!-- Edit My Profile has a ngForm that maps to onSubmit in the profile page component. The whole ngForm is sent there and the user input is extracted. -->
        <h3>Edit profile</h3>
        <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)">
            <div class="form-inputs">
                <div>
                    <p class="color-light-blue">About</p>
                    <textarea [(ngModel)]="description" name="desc" id="desc" rows="4"
                        cols="50" resize="false" maxlength="200"></textarea>

                        <div *ngIf="description?.length > 199" class="character-limit-exceeded">
                            <p class="small-title">Character limit exceeded (max 200 characters).</p>
                          </div>
                </div>
                <div>
                    <p class="color-light-blue">Skills</p>
                    <fieldset>
                        <input type="checkbox" [(ngModel)]="java" id="java" name="JAVA"><label for="java">Java</label>
                        <input type="checkbox" [(ngModel)]="javascript" name="JAVASCRIPT"><label for="javascript">Javascript</label>
                        <input type="checkbox" [(ngModel)]="react" name="REACT"><label for="react">React</label>
                        <input type="checkbox" [(ngModel)]="angular" name="ANGULAR"><label for="angular">Angular</label>
                        <input type="checkbox" [(ngModel)]="c" name="C"><label for="c">C</label>
                    </fieldset>
                </div>
            </div>
            <button class="btn btn-white" type="submit" [disabled]="myForm.form.invalid">Save</button>
        </form>
    </div>

</div>
